# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Weaviate: –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Weaviate

### ‚úÖ –ß—Ç–æ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

1. **–ë–∞–∑–æ–≤—ã–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** (`near_vector`)
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º (document_id, tags, location, ecosystem_id, organism_ids)
   - –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏

2. **AutoSchema**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ —Å–≤–æ–π—Å—Ç–≤
   - –ò–Ω—Ñ–µ—Ä–µ–Ω—Å —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
   - –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —ç–≤–æ–ª—é—Ü–∏—è —Å—Ö–µ–º—ã

3. **–ë–∞–∑–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**
   - `Filter.by_property().equal()`
   - `Filter.by_property().contains_any()`
   - `Filter.all_of()` –¥–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

4. **Batch –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - `collection.data.insert_many()` –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –≤—Å—Ç–∞–≤–∫–∏
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `WEAVIATE_BATCH_SIZE`

5. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–≥–æ–≤, –ª–æ–∫–∞—Ü–∏–∏, —ç–∫–æ—Å–∏—Å—Ç–µ–º, –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (—á–µ—Ä–µ–∑ —Å–≤–æ–π –∫–æ–¥)

### ‚ùå –ß—Ç–æ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–æ –º–æ–≥–ª–æ –±—ã)

1. **Hybrid Search** (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π + BM25)
2. **Cross-Encoder Reranking**
3. **Multi-Vector Embeddings**
4. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è Weaviate**
5. **Named Vectors**
6. **Generative Search (RAG)**
7. **Grouping/Clustering**
8. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** (OR, NOT, –¥–∏–∞–ø–∞–∑–æ–Ω—ã)
9. **GraphQL –∑–∞–ø—Ä–æ—Å—ã** –Ω–∞–ø—Ä—è–º—É—é
10. **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Weaviate**

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. üöÄ Hybrid Search (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–π –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Hybrid Search, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç:
- **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ)
- **BM25** (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Ö–æ–∂–∏ –ò —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–º–µ–Ω–∞–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö (–æ—Ä–≥–∞–Ω–∏–∑–º—ã, –ª–æ–∫–∞—Ü–∏–∏)
- –£–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ 20-30%

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
# api/storage/weaviate_storage.py

def search_similar_hybrid(
    self,
    query: str,
    document_id: str,
    top_k: int = 10,
    alpha: float = 0.5,  # 0 = —Ç–æ–ª—å–∫–æ BM25, 1 = —Ç–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π
    **filters
) -> List[Tuple[Paragraph, float]]:
    """Hybrid search: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –∏ BM25 –ø–æ–∏—Å–∫–∞"""
    from weaviate.classes.query import HybridFusion
    
    collection = self.client.collections.get(WEAVIATE_CLASS_NAME)
    
    # –°—Ç—Ä–æ–∏–º —Ñ–∏–ª—å—Ç—Ä—ã (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
    combined_filter = self._build_filters(document_id, **filters)
    
    # Hybrid search
    response = collection.query.hybrid(
        query=query,  # –¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è BM25
        vector=self._create_embedding(query).tolist(),  # –í–µ–∫—Ç–æ—Ä –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
        alpha=alpha,  # –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É BM25 –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
        fusion_type=HybridFusion.RELATIVE_SCORE,  # –ò–ª–∏ RANKED_FUSION
        limit=top_k,
        filters=combined_filter,
        return_metadata=MetadataQuery(score=True, explain_score=True),
    )
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∞–º –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ ("–¥—É–±", "–º–∏–∫–æ—Ä–∏–∑–∞")
- –ü–æ–∏—Å–∫ –ø–æ –ª–æ–∫–∞—Ü–∏—è–º ("–ú–æ—Å–∫–≤–∞", "—Ç–∞–π–≥–∞")
- –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –∏ —Ç–æ—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ alpha:**
- `alpha=0.3` - –±–æ–ª—å—à–µ BM25 (–¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤)
- `alpha=0.5` - –±–∞–ª–∞–Ω—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `alpha=0.7` - –±–æ–ª—å—à–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (–¥–ª—è –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

### 2. üéØ Cross-Encoder Reranking (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–≤–∏—á–Ω—ã–π –ø–æ–∏—Å–∫ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ –Ω–µ –≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–∏—Å–∫:
1. –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ (bi-encoder) - –ø–æ–ª—É—á–∞–µ–º —Ç–æ–ø-20-50 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
2. –ü–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ (cross-encoder) - —Ç–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ 10-15%
- –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
def search_with_reranking(
    self,
    query: str,
    document_id: str,
    top_k: int = 10,
    rerank_limit: int = 50,  # –°–∫–æ–ª—å–∫–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è reranking
    **filters
) -> List[Tuple[Paragraph, float]]:
    """–ü–æ–∏—Å–∫ —Å –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ cross-encoder"""
    
    # 1. –ü–µ—Ä–≤–∏—á–Ω—ã–π –ø–æ–∏—Å–∫ (–±—ã—Å—Ç—Ä—ã–π, –º–Ω–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤)
    candidates = self.search_similar_hybrid(
        query=query,
        document_id=document_id,
        top_k=rerank_limit,
        **filters
    )
    
    # 2. –ü–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ cross-encoder
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É sentence-transformers
    from sentence_transformers import CrossEncoder
    
    cross_encoder = CrossEncoder('cross-encoder/ms-marco-MiniLM-L-6-v2')
    
    # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä (–∑–∞–ø—Ä–æ—Å, –¥–æ–∫—É–º–µ–Ω—Ç)
    pairs = [(query, para.content) for para, _ in candidates]
    
    # –ü–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–µ —Å–∫–æ—Ä—ã
    rerank_scores = cross_encoder.predict(pairs)
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –Ω–æ–≤—ã–º —Å–∫–æ—Ä–∞–º
    reranked = sorted(
        zip(candidates, rerank_scores),
        key=lambda x: x[1],
        reverse=True
    )
    
    return [(para, float(score)) for (para, _), score in reranked[:top_k]]
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (RAG –¥–ª—è LLM)
- –ö–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 3. üîÑ Multi-Vector Embeddings (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω –≤–µ–∫—Ç–æ—Ä –º–æ–∂–µ—Ç –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã —Å–ª–æ–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:
- –í–µ–∫—Ç–æ—Ä –¥–ª—è –æ–±—â–µ–≥–æ —Å–º—ã—Å–ª–∞
- –í–µ–∫—Ç–æ—Ä –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤
- –í–µ–∫—Ç–æ—Ä –¥–ª—è —ç–∫–æ—Å–∏—Å—Ç–µ–º
- –í–µ–∫—Ç–æ—Ä –¥–ª—è –ª–æ–∫–∞—Ü–∏–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–Ω—ã–º –∞—Å–ø–µ–∫—Ç–∞–º
- –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∞—Å–ø–µ–∫—Ç–∞–º (—Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–º—ã, —Ç–æ–ª—å–∫–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã)
- –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–Ω–æ–≥–æ–∞—Å–ø–µ–∫—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
def _create_multi_embeddings(self, paragraph: Paragraph) -> Dict[str, List[float]]:
    """–°–æ–∑–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤"""
    
    vectors = {}
    
    # –û–±—â–∏–π —Å–º—ã—Å–ª
    vectors["default"] = self._create_embedding(paragraph.content).tolist()
    
    # –û—Ä–≥–∞–Ω–∏–∑–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
    if paragraph.organisms:
        org_text = " ".join([org.get("name", "") for org in paragraph.organisms])
        if org_text:
            vectors["organisms"] = self._create_embedding(org_text).tolist()
    
    # –≠–∫–æ—Å–∏—Å—Ç–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
    if paragraph.ecosystem_id:
        vectors["ecosystems"] = self._create_embedding(
            f"—ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ {paragraph.ecosystem_id}"
        ).tolist()
    
    # –õ–æ–∫–∞—Ü–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
    if paragraph.location:
        vectors["location"] = self._create_embedding(
            f"–ª–æ–∫–∞—Ü–∏—è {paragraph.location}"
        ).tolist()
    
    return vectors

# –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
def _paragraph_to_weaviate_object(self, paragraph: Paragraph) -> Dict[str, Any]:
    obj = {...}  # –∫–∞–∫ —Ä–∞–Ω—å—à–µ
    
    # –î–æ–±–∞–≤–ª—è–µ–º named vectors
    obj["_vectors"] = self._create_multi_embeddings(paragraph)
    
    return obj

# –ü—Ä–∏ –ø–æ–∏—Å–∫–µ
def search_by_aspect(
    self,
    query: str,
    aspect: str = "default",  # "default", "organisms", "ecosystems", "location"
    **filters
):
    """–ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∞—Å–ø–µ–∫—Ç—É"""
    collection = self.client.collections.get(WEAVIATE_CLASS_NAME)
    
    response = collection.query.near_vector(
        near_vector=self._create_embedding(query).tolist(),
        target=aspect,  # –ò—Å–ø–æ–ª—å–∑—É–µ–º named vector
        limit=top_k,
        filters=combined_filter,
    )
```

### 4. ü§ñ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è Weaviate (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–≤–æ–π –∫–æ–¥ (LLM), —á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –¥–æ—Ä–æ–≥–æ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é Contextual Classification Weaviate.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë—ã—Å—Ç—Ä–µ–µ (–Ω–µ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å LLM)
- –î–µ—à–µ–≤–ª–µ (–Ω–µ—Ç API –≤—ã–∑–æ–≤–æ–≤)
- –†–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ, —á–µ–º LLM
- –ù—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–ª–∞—Å—Å–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Å—Ö–µ–º–µ
def setup_weaviate_classification(client):
    """–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é Weaviate"""
    
    collection = client.collections.get(WEAVIATE_CLASS_NAME)
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
    classification_config = {
        "type": "knn",  # –∏–ª–∏ "zeroshot"
        "classifyProperties": ["tags"],
        "basedOnProperties": ["content"],
        "trainingSet": [
            {
                "content": "–î—É–± –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞",
                "tags": ["ecosystem_risk"]
            },
            {
                "content": "–ú–∏–∫–æ—Ä–∏–∑–∞ –ø–æ–º–æ–≥–∞–µ—Ç –¥—É–±—É –ø–æ–≥–ª–æ—â–∞—Ç—å —Ñ–æ—Å—Ñ–æ—Ä",
                "tags": ["ecosystem_solution"]
            },
            # ... –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤
        ]
    }
    
    # –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤
    # Weaviate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
```

**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- Weaviate –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ (–±—ã—Å—Ç—Ä–æ)
- LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (—Ç–æ—á–Ω–æ)

### 5. üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã (—Ç–æ–ª—å–∫–æ AND, —Ç–æ–ª—å–∫–æ equals/contains).

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã Weaviate.

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
# OR —Ñ–∏–ª—å—Ç—Ä—ã
filters = Filter.any_of([
    Filter.by_property("tags").contains_any(["ecosystem_risk"]),
    Filter.by_property("tags").contains_any(["ecosystem_vulnerability"])
])

# NOT —Ñ–∏–ª—å—Ç—Ä—ã
filters = Filter.all_of([
    Filter.by_property("document_id").equal(session_id),
    Filter.by_property("tags").does_not_contain_any(["deprecated"])
])

# –î–∏–∞–ø–∞–∑–æ–Ω—ã
filters = Filter.by_property("timestamp").greater_than(start_time)
filters = Filter.by_property("timestamp").less_than(end_time)

# –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏
filters = Filter.all_of([
    Filter.by_property("location").equal("–ú–æ—Å–∫–≤–∞"),
    Filter.any_of([
        Filter.by_property("tags").contains_any(["ecosystem_risk"]),
        Filter.by_property("tags").contains_any(["ecosystem_vulnerability"])
    ]),
    Filter.by_property("timestamp").greater_than(last_week)
])
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –ü–æ–∏—Å–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°–ª–æ–∂–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è

### 6. üìä Grouping/Clustering (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –ø–æ—Ö–æ–∂–∏–º–∏ –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
def search_with_grouping(
    self,
    query: str,
    document_id: str,
    top_k: int = 10,
    group_by: str = "tags",  # –∏–ª–∏ "ecosystem_id", "location"
    **filters
):
    """–ü–æ–∏—Å–∫ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
    
    collection = self.client.collections.get(WEAVIATE_CLASS_NAME)
    
    response = collection.query.near_vector(
        near_vector=self._create_embedding(query).tolist(),
        limit=top_k * 3,  # –ü–æ–ª—É—á–∞–µ–º –±–æ–ª—å—à–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
        filters=combined_filter,
        group_by=group_by,  # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Å–≤–æ–π—Å—Ç–≤—É
        group_limit=2,  # –ú–∞–∫—Å–∏–º—É–º 2 –∏–∑ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
    )
    
    # Weaviate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    return response.objects
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–∫–∞–∑ —Ä–∞–∑–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Ç–µ–º—ã

### 7. üé® Generative Search (RAG) (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–π RAG –¥–µ–ª–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é (–ø–æ–∏—Å–∫ ‚Üí —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí LLM).

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Generative Search Weaviate.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
def generative_search(
    self,
    query: str,
    document_id: str,
    top_k: int = 5,
    **filters
) -> str:
    """Generative search: –ø–æ–∏—Å–∫ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞"""
    
    collection = self.client.collections.get(WEAVIATE_CLASS_NAME)
    
    response = collection.query.near_vector(
        near_vector=self._create_embedding(query).tolist(),
        limit=top_k,
        filters=combined_filter,
        return_metadata=MetadataQuery(score=True),
    )
    
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å
    # (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ generative –º–æ–¥—É–ª—è –≤ Weaviate)
    generated = collection.generate.near_vector(
        near_vector=self._create_embedding(query).tolist(),
        single_prompt=f"–û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: {query}",
        limit=top_k,
        filters=combined_filter,
    )
    
    return generated.generated
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–±–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç

### 8. üîó Named Vectors (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω –≤–µ–∫—Ç–æ—Ä –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å named vectors –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `content_vector` - –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `title_vector` - –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `metadata_vector` - –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–æ—Ä–≥–∞–Ω–∏–∑–º—ã, —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
# –í —Å—Ö–µ–º–µ (–µ—Å–ª–∏ –Ω–µ AutoSchema)
def create_schema_with_named_vectors(client):
    """–°–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É —Å named vectors"""
    
    collection = client.collections.create(
        name=WEAVIATE_CLASS_NAME,
        vectorizer_config=Configure.vectorizer.none(),  # –†—É—á–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        vector_config=[
            Configure.NamedVectors.vector(
                name="content",
                vectorizer_config=Configure.vectorizer.text2vec_transformers(
                    model="sentence-transformers/all-MiniLM-L6-v2"
                )
            ),
            Configure.NamedVectors.vector(
                name="metadata",
                vectorizer_config=Configure.vectorizer.text2vec_transformers(
                    model="sentence-transformers/all-MiniLM-L6-v2"
                )
            )
        ]
    )

# –ü—Ä–∏ –ø–æ–∏—Å–∫–µ
def search_with_named_vectors(
    self,
    query: str,
    vector_name: str = "content",
    **filters
):
    """–ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É named vector"""
    
    response = collection.query.near_vector(
        near_vector=self._create_embedding(query).tolist(),
        target=vector_name,  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
        limit=top_k,
        filters=combined_filter,
    )
```

### 9. üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gRPC –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**
   ```python
   # –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
   connection_params = weaviate.connect.base.ConnectionParams.from_params(
       http_host=http_host,
       http_port=http_port,
       grpc_host=grpc_host,
       grpc_port=grpc_port,
       grpc_secure=False,
   )
   ```

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**
   ```python
   # –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   from functools import lru_cache
   
   @lru_cache(maxsize=1000)
   def _create_embedding_cached(self, text: str) -> np.ndarray:
       return self._create_embedding(text)
   ```

3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ batch –æ–ø–µ—Ä–∞—Ü–∏–∏**
   ```python
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
   async def add_documents_async(self, documents, ...):
       # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
       embeddings = await asyncio.gather(*[
           asyncio.to_thread(self._create_embedding, doc["text"])
           for doc in documents
       ])
   ```

4. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤**
   ```python
   # –í —Å—Ö–µ–º–µ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
   # (AutoSchema –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å)
   ```

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ë—ã—Å—Ç—Ä—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ **Hybrid Search** - —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
2. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - OR, NOT, –¥–∏–∞–ø–∞–∑–æ–Ω—ã
3. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, async

### –§–∞–∑–∞ 2: –°—Ä–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (2-4 –Ω–µ–¥–µ–ª–∏)

4. ‚úÖ **Cross-Encoder Reranking** - –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
5. ‚úÖ **Multi-Vector Embeddings** - –¥–ª—è –º–Ω–æ–≥–æ–∞—Å–ø–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
6. ‚úÖ **Grouping** - –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –§–∞–∑–∞ 3: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –º–µ—Å—è—Ü–∞)

7. ‚úÖ **Generative Search** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π RAG
8. ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è Weaviate** - –∑–∞–º–µ–Ω–∞ —á–∞—Å—Ç–∏ LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
9. ‚úÖ **Named Vectors** - –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: ~70-75%
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~200-300ms
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤: ~80%

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π (–æ–∂–∏–¥–∞–µ–º—ã–µ):
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: ~85-90% (+15-20%)
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~150-200ms (-25-33%)
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤: ~90-95% (+10-15%)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Weaviate –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é. –ù–∞–∏–±–æ–ª—å—à–∏–π —ç—Ñ—Ñ–µ–∫—Ç –¥–∞—Å—Ç:

1. **Hybrid Search** - —É–ª—É—á—à–∏—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ 20-30%
2. **Cross-Encoder Reranking** - —É–ª—É—á—à–∏—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ 10-15%
3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - —Ä–∞—Å—à–∏—Ä–∏—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞

–≠—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è —Å–¥–µ–ª–∞—é—Ç –ø–æ–∏—Å–∫ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º, –±—ã—Å—Ç—Ä—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
