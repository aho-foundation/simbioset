---
description: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
globs: **/*
alwaysApply: true
priority: 1
---

# üèóÔ∏è Core Development Principles

## üîÑ Main Rules
- "This is a simple implementation - in real usage...", "in a real implementation" - —Ö–ª–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∑–∞–≥–ª—É—à–∫–∞–º–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ, —Å—Ä–∞–∑—É –ø–∏—à–µ–º —Ä–∞–±–æ—á–∏–π –∫–æ–¥
- –ù–ï –¥–µ–ª–∞—Ç—å `git commit` –±–µ–∑ –ø—Ä–æ—Å—å–±—ã

## üèóÔ∏è Architecture Rules
- **Single Responsibility**: –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **Pure Functions**: –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **Composition > Inheritance**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
- **Explicit > Implicit**: –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

## üéØ Philosophy
- **KISS**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ - —Å–ª–æ–∂–Ω–æ—Å—Ç—å = –±–∞–≥–∏
- **DRY**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ > —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
- **YAGNI**: –†–µ—à–∞–µ–º —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–µ –≥–∞–¥–∞–µ–º –æ –±—É–¥—É—â–∏—Ö
- **Fail Fast**: –û—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É

## üîç Workflow –ø–æ–∏—Å–∫–∞ (–ø—Ä–æ—Ç–∏–≤ –≥–Ω–∏–µ–Ω–∏—è)
```bash
1. grep_search ‚Äî —Ç–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã/—Å—Ç—Ä–æ–∫–∏
2. codebase_search ‚Äî —Å–µ–º–∞–Ω—Ç–∏–∫–∞/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. read_file ‚Äî –∏–∑—É—á–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ
4. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
```

## ü§ñ Sonnet 4.5 Agent Workflow
- **Parallel exploration**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –ø–æ–∏—Å–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **Batch file reading**: –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—Ä–∞–∑—É
- **Incremental focus**: –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –Ω–µ –≤—Å–µ —Å—Ä–∞–∑—É
- **State preservation**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ñ–∞–π–ª–∞—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

## üìä Truth Sources
- **–î–æ–≤–µ—Ä—è–π —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∞–º** - E2E, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ, unit
- **–ò–∑–º–µ—Ä—è–π, –Ω–µ –≥–∞–¥–∞–π** - –º–µ—Ç—Ä–∏–∫–∏ > –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è
- **–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** - ü§∑ –¥–ª—è –Ω–µ–¥–æ–∫–∞–∑–∞–Ω–Ω–æ–≥–æ
- **Rollback –ø—Ä–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏** - –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏ = –æ—Ç–∫–∞—Ç, –ø–æ–º–µ—á–∞–π –µ–≥–æ üöë

## üß† Anti-Context-Decay Protocol
ü§ñ Research: "Lost in the Middle" - –∫—Ä–∏—Ç–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –í –ù–ê–ß–ê–õ–û
- **Structure**: üéØ‚Üí‚úÖ‚Üíüîß‚Üíüìù (—Ü–µ–ª—å‚Üí–¥–µ–π—Å—Ç–≤–∏–µ‚Üí–∫–æ–¥‚Üí—Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- **Cognition**: –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (Sonnet 4.5 improvement)
- **Memory**: –¢–û–õ–¨–ö–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- **Visual**: –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **Context tracking**: –ú–æ–¥–µ–ª—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìù Documentation (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
```
CHANGELOG.md ‚Äî –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–≤–µ—Ä—Ö—É –∏ –≤ package.json
features.md ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
docs/progress/<timestamp>-–Ω–∞–∑–≤–∞–Ω–∏–µ.md ‚Äî –æ—Ç—á–µ—Ç –æ —Å–µ—Å—Å–∏–∏
```

## üé≠ Communication Style
- **–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π –¥–ª—è –æ–±—â–µ–Ω–∏—è, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –∫–æ–¥–∞
- **–£—Ä–æ–≤–µ–Ω—å**: –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π, –±–µ–∑ "—Ä–∞–∑–∂–µ–≤—ã–≤–∞–Ω–∏—è"
- **–§–æ—Ä–º–∞—Ç**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è ‚Üí –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **Concise & direct**: –§–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ –º–Ω–æ–≥–æ—Å–ª–æ–≤–∏—è
- **Fact-based**: –¢–æ—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ

## üèóÔ∏è Code Quality
- **Single Responsibility**: 1 —Ñ—É–Ω–∫—Ü–∏—è = 1 –∑–∞–¥–∞—á–∞
- **Pure Functions**: –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ
- **Composition > Inheritance**: –†–∞—Å—à–∏—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ
- **Extended thinking**: –í–∫–ª—é—á–∞–π –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

## üîí Security & Performance
- **Input validation**: –ö–ª–∏–µ–Ω—Ç –ò —Å–µ—Ä–≤–µ—Ä
- **XSS protection**: –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML
- **JWT**: + refresh tokens
- **Bundle**: < 500KB gzipped
- **LCP**: < 2.5s, **FID**: < 100ms

## üìù Descriptive Coding
- **Add comments**: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ–ø–∏—Å–∞–Ω
- **Add doctests**: –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **TODO and FIXME**: –û—Å—Ç–∞–≤–ª—è—Ç—å –∏ —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏
- **Less noise**: –ë–µ–∑ –∫–∞–ø—Å–∞ –∏ —ç–º–æ–¥–∂–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫–æ–¥–∞
