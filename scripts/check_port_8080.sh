#!/bin/bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 8080
echo "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç 8080..."

echo "üìã netstat –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:"
netstat -tulpn 2>/dev/null | grep ":8080 " || echo "–ü–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω"

echo ""
echo "üìã Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:"
docker ps | grep 8080 || echo "–ù–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ –ø–æ—Ä—Ç—É 8080"

echo ""
echo "üìã Dokku –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:"
docker ps | grep weaviate || echo "–ù–µ—Ç Weaviate –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤"

echo ""
echo "üìã –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 8080:"
lsof -i :8080 2>/dev/null || echo "lsof –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω"

echo ""
echo "üí° –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:"
echo "docker stop \$(docker ps -q --filter 'publish=8080')  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä"
echo "./scripts/clean_restart_weaviate.sh  # –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞"